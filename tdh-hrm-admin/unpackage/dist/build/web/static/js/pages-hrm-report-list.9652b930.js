(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-hrm-report-list"],{"0608":function(e,t,a){"use strict";a.r(t);var i=a("cd3d"),r=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},"0cf2":function(e,t,a){var i=a("1e41");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("967d").default;r("3488d545",i,!0,{sourceMap:!1,shadowMode:!1})},"1e41":function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,"",""]),e.exports=t},af14:function(e,t,a){"use strict";var i=a("0cf2"),r=a.n(i);r.a},af74:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"page-body"},[a("vk-data-table-query",{attrs:{columns:e.queryForm1.columns},on:{search:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}},model:{value:e.queryForm1.formData,callback:function(t){e.$set(e.queryForm1,"formData",t)},expression:"queryForm1.formData"}}),a("v-uni-view",[a("el-row",[e.$hasRole("admin")||e.$hasPermission("hrm-employee-export")?a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit-outline"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.exportExcelAll.apply(void 0,arguments)}}},[e._v(" 导出全部 ")]):e._e()],1)],1),a("vk-data-table",{ref:"table1",attrs:{action:e.table1.action,columns:e.table1.columns,"query-form-param":e.queryForm1,"right-btns":e.table1.rightBtns,selection:!0,"row-no":!0,pagination:!0},on:{update:function(t){arguments[0]=t=e.$handleEvent(t),e.updateBtn.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteBtn.apply(void 0,arguments)},"current-change":function(t){arguments[0]=t=e.$handleEvent(t),e.currentChange.apply(void 0,arguments)},"selection-change":function(t){arguments[0]=t=e.$handleEvent(t),e.selectionChange.apply(void 0,arguments)}}}),a("vk-data-dialog",{attrs:{title:e.form1.props.title,width:"900px",mode:"form","close-on-click-modal":!1},model:{value:e.form1.props.show,callback:function(t){e.$set(e.form1.props,"show",t)},expression:"form1.props.show"}},[a("vk-data-form",{ref:"form1",attrs:{rules:e.form1.props.rules,action:e.form1.props.action,"form-type":e.form1.props.formType,columns:e.form1.props.columns,"label-width":"130px",inline:!0,columnsNumber:2,border:!0},on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.form1.props.show=!1,e.refresh()}},model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}})],1)],1)},r=[]},c7f6:function(e,t,a){"use strict";a.r(t);var i=a("af74"),r=a("0608");for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);a("af14");var l=a("828b"),o=Object(l["a"])(r["default"],i["b"],i["c"],!1,null,"114ebfed",null,!1,i["a"],void 0);t["default"]=o.exports},cd3d:function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("7a76"),a("c9b5"),a("5ef2"),a("5c47"),a("af8f"),a("d4b5");var r=i(a("3471")),n=i(a("2634")),l=i(a("2fdc")),o=(a("36f3"),uni.vk),d={},y={data:function(){var e=this;return{fileList:[],loading:!1,data:{},table1:{action:"admin/hrm/employees/sys/getList",rightBtns:[{mode:"detail_auto",title:"详细",show:function(t){return e.$hasRole("admin")||e.$hasRole("hr-read")}}],columns:[{key:"employee_id",title:"员工工号",type:"text",width:100},{key:"center_id",title:"中心代码",type:"text",width:100},{key:"centers.center_name",title:"六大中心",type:"text",width:100},{key:"points.point_name",title:"分点名称",type:"text",width:200},{key:"employee_name",title:"员工姓名",type:"text",width:100},{key:"card",title:"身份证号码",type:"text",width:200},{key:"bank_card",title:"银行卡号",type:"text",width:200},{key:"banks.bank_name",title:"银行名称",type:"text",width:100},{key:"locations.location_name",title:"开户地",type:"text",width:200},{key:"gender",title:"性别",type:"number",width:50,formatter:function(e,t,a,i){return 1==t.gender?"男":"女"}},{key:"nations.name",title:"民族",type:"text",width:50},{key:"departments.department_name",title:"所属部门",type:"text",width:200},{key:"companys.company_name",title:"所属公司",type:"text",width:100},{key:"positions.position_name",title:"职位名称",type:"text",width:100},{key:"hire_date",title:"入职日期",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd",width:100},{key:"resign_date",title:"离职日期",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd",width:100},{key:"mobile",title:"手机号码",type:"text",width:150},{key:"educationals.educational_name",title:"学历",type:"text",width:50},{key:"insurances.insurance_name",title:"保险",type:"text",width:200},{key:"stay",title:"住宿",type:"number",width:50,formatter:function(e,t,a,i){return 1==t.gender?"是":"否"}},{key:"contracts.contract_name",title:"合同是否签定",type:"text",width:150},{key:"contract_date",title:"合同到期日",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd",width:100},{key:"contract_desc",title:"合同签订情况",type:"text",width:200},{key:"registration",title:"档案是否登记\t",type:"number",width:150,formatter:function(e,t,a,i){return 1==t.gender?"是":"否"}},{key:"birth_month",title:"月份",type:"number",width:100},{key:"birth_date",title:"出生日期",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd",width:100},{key:"expiration_date",title:"身份证有效期限",type:"text",width:150},{key:"age",title:"年龄",type:"number",width:50},{key:"card_location",title:"户口所在地",type:"text",width:200},{key:"emergency_contact",title:"紧急联系人",type:"text",width:100},{key:"emergency_mobile",title:"紧急联系人电话",type:"text",width:150},{key:"internals.employee_name",title:"内部介绍人",type:"text",width:100},{key:"marital_status",title:"婚姻情况",type:"number",width:100,formatter:function(e,t,a,i){return 1==e?"已婚":"未婚"}},{key:"no_crime",title:"无犯罪证明",type:"number",width:100,formatter:function(e,t,a,i){return 1==e?"有":"无"}},{key:"resigntypes.type_name",title:"离职类型",type:"text",width:100},{key:"rest_type",title:"休息类型",type:"number",formatter:function(e,t,a,i){return 1==e?"单休":2==e?"双休":3==e?"大小周":void 0}},{key:"status",title:"用户状态",type:"number",width:100,formatter:function(e,t,a,i){return 1==e?"在职":"离职"}},{key:"comment",title:"备注",type:"text",show:["detail"],width:200},{key:"avatar",title:"头像",type:"avatar",width:200},{key:"update_date",title:"更新时间",type:"time",width:200,show:["detail"]},{key:"users.nickname",title:"更新人",type:"text",width:200,show:["detail"]}],multipleSelection:[],selectItem:""},queryForm1:{formData:{},columns:[{key:"gender",title:"性别",type:"select",width:200,data:[{value:1,label:"男"},{value:2,label:"女"}],mode:"="},{key:"status",title:"用户状态",type:"select",width:200,data:[{value:1,label:"在职"},{value:2,label:"离职"}],mode:"="},{key:"rest_type",title:"休息类别",type:"select",width:200,data:[{value:1,label:"单休"},{value:2,label:"双休"},{value:3,label:"大小周"}],mode:"="},{key:"company_id",title:"所属部门",type:"text",width:200,mode:"=",hidden:!0},{key:"department_id",title:"选择公司或部门",type:"cascader",placeholder:"请选择部门",action:"admin/hrm/department/sys/getList",props:{list:"rows",value:"department_id",label:"department_name",checkStrictly:!0,emitPath:!1},showAll:!0,mode:"="}]},form1:{data:{employee_type:1,hire_date:new Date,status:1},props:{action:"",columns:[{key:"employee_id",title:"员工工号",type:"text",width:200},{key:"employee_name",title:"员工姓名",type:"text",width:200},{key:"center_id",title:"六大中心",type:"remote-select",placeholder:"请选择中心名称",width:200,action:"admin/hrm/center/sys/getList",props:{list:"rows",value:"center_id",label:"center_name"},showAll:!0,actionData:{pageSize:1e3}},{key:"point_id",title:"分点名称",type:"remote-select",placeholder:"请选择分点名称",width:200,action:"admin/hrm/point/sys/getList",props:{list:"rows",value:"point_id",label:"point_name"},showAll:!0,actionData:{pageSize:1e3}},{key:"card",title:"身份证号码",type:"text",width:200,watch:function(t){var a=o.myfn.test1(t.value);0==a.code&&(e.$set(e.form1.data,"gender",a.data.sex),e.$set(e.form1.data,"age",a.data.age),e.$set(e.form1.data,"birth_month",a.data.month),e.$set(e.form1.data,"birth_date",a.data.birthday))}},{key:"bank_card",title:"银行卡号",type:"text",width:200},{key:"bank_id",title:"银行名称",type:"remote-select",placeholder:"请选择银行名称",width:200,disabled:!0,action:"admin/hrm/bank/sys/getList",props:{list:"rows",value:"bank_id",label:"bank_name"},showAll:!0,actionData:{pageSize:1e3}},{key:"location_id",title:"开户地",type:"remote-select",placeholder:"请选择开户地",width:200,action:"admin/hrm/banklocation/sys/getList",props:{list:"rows",value:"location_id",label:"location_name"},showAll:!0,actionData:{pageSize:1e3}},{key:"birth_month",title:"月份",type:"number",disabled:!0,width:200},{key:"birth_date",title:"出生日期",type:"date",disabled:!0,dateType:"date",valueFormat:"yyyy-MM-dd",width:200},{key:"age",title:"年龄",type:"number",disabled:!0,width:200},{key:"gender",title:"员工性别",type:"radio",disabled:!0,width:200,data:[{value:1,label:"男"},{value:2,label:"女"}]},{key:"nation_id",title:"民族",type:"remote-select",placeholder:"请选择民族",width:200,action:"admin/hrm/nation/sys/getList",props:{list:"rows",value:"_id",label:"name"},showAll:!0,actionData:{pageSize:1e3}},{key:"position_id",title:"职位名称",type:"remote-select",placeholder:"请选择职位名称",action:"admin/hrm/position/sys/getList",width:200,props:{list:"rows",value:"position_id",label:"position_name"},showAll:!0,actionData:{pageSize:1e3}},{key:"company_id",title:"所属公司",type:"tree-select",width:200,action:"admin/hrm/company/sys/getList",props:{list:"rows",value:"company_id",label:"company_name",children:"children"},watch:function(t){var a=t.value,i=(t.formData,t.column,t.index,t.option,t.$set,o.pubfn.getListItem(e.form1.props.columns,"key","department_id"));i.actionData.company_id=a}},{key:"department_id",title:"所属部门",type:"tree-select",action:"admin/hrm/department/pub/getList",props:{list:"rows",value:"department_id",label:"department_name",children:"children"},actionData:{company_id:""},width:200},{key:"hire_date",title:"入职日期",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd",width:200},{key:"resign_date",title:"离职日期",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd",width:200},{key:"mobile",title:"手机号码",type:"text",width:200},{key:"educational_id",title:"学历",type:"remote-select",placeholder:"请选择学历",width:200,action:"admin/hrm/educational/sys/getList",props:{list:"rows",value:"educational_id",label:"educational_name"},showAll:!0,actionData:{pageSize:1e3}},{key:"insurance_id",title:"保险",type:"remote-select",placeholder:"请选择保险",width:200,action:"admin/hrm/insurance/sys/getList",props:{list:"rows",value:"insurance_id",label:"insurance_name"},showAll:!0,actionData:{pageSize:1e3}},{key:"stay",title:"住宿",type:"radio",width:200,data:[{value:1,label:"是"},{value:2,label:"否"}]},{key:"contract_id",title:"合同是否签定",type:"remote-select",placeholder:"请选择合同是否签定",action:"admin/hrm/contract/sys/getList",width:200,props:{list:"rows",value:"contract_id",label:"contract_name"},showAll:!0,actionData:{pageSize:1e3}},{key:"contract_date",title:"合同到期日",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd",width:200},{key:"contract_desc",title:"合同签订情况",type:"text",width:200},{key:"registration",title:"档案是否登记",type:"radio",width:200,data:[{value:1,label:"是"},{value:2,label:"否"}]},{key:"expiration_date",title:"身份证有效期限",type:"text",width:200},{key:"card_location",title:"户口所在地",type:"textarea",maxlength:"99",showWordLimit:!0,width:200,autosize:{minRows:2,maxRows:10}},{key:"emergency_contact",title:"紧急联系人",type:"text",width:200},{key:"emergency_mobile",title:"紧急联系人电话",type:"text",width:200},{key:"internal_id",title:"",type:"table-select",placeholder:"选择内部介绍人",width:200,action:"admin/hrm/employees/sys/getList",multiple:!1,columns:[{key:"employee_id",title:"员工工号",type:"text",idKey:!0},{key:"employee_name",title:"员工姓名",type:"text",nameKey:!0}],queryColumns:[{key:"employee_id",title:"员工工号",type:"text",width:150,mode:"%%"},{key:"employee_name",title:"员工姓名",type:"text",width:150,mode:"%%"}]},{key:"marital_status",title:"婚姻状况",type:"radio",width:200,data:[{value:1,label:"已婚"},{value:2,label:"未婚"}]},{key:"no_crime",title:"无犯罪证明",type:"radio",width:200,data:[{value:1,label:"有"},{value:2,label:"无"}]},{key:"status",title:"用户状态",type:"radio",width:200,defaultValue:1,data:[{value:1,label:"在职"},{value:2,label:"离职"}]},{key:"rest_type",title:"休息类型",type:"select",width:200,defaultValue:1,data:[{value:1,label:"单休"},{value:2,label:"双休"},{value:3,label:"大小周"}]},{key:"type_id",title:"离职类型",type:"remote-select",width:200,placeholder:"请选择离职类型",action:"admin/hrm/resigntype/sys/getList",props:{list:"rows",value:"type_id",label:"type_name"},showAll:!0,actionData:{pageSize:1e3}},{key:"avatar",title:"头像地址",type:"avatar",width:200},{key:"comment",title:"备注",type:"textarea",maxlength:"99",showWordLimit:!0,width:200,autosize:{minRows:4,maxRows:10}}],rules:{center_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],point_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],bank_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],bank_card:[{required:!0,message:"该项不能为空",trigger:["blur","change"]},{validator:function(){var t=(0,l.default)((0,n.default)().mark((function t(a,i,r){var l;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.request({method:"get",url:"https://ccdcapi.alipay.com/validateAndCacheCardInfo.json",data:{cardNo:i,cardBinCheck:!0},contentType:"json",dataType:"json"});case 2:l=t.sent,o.pubfn.isNull(l.bank)?r(new Error("银行卡号不正确")):(e.$set(e.form1.data,"bank_id",l.bank),r());case 4:case"end":return t.stop()}}),t)})));return function(e,a,i){return t.apply(this,arguments)}}(),trigger:"blur"}],location_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],nation_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],educational_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],insurance_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],stay:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],contract_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],contract_date:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],contract_desc:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],registration:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],expiration_date:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],card_location:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],marital_status:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],no_crime:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],employee_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],employee_name:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],mobile:[{required:!0,message:"该项不能为空",trigger:["blur","change"]},{validator:o.pubfn.validator("mobile"),message:"手机号格式错误",trigger:"blur"}],emergency_mobile:[{validator:o.pubfn.validator("mobile"),message:"手机号格式错误",trigger:"blur"}],card:[{required:!0,message:"该项不能为空",trigger:["blur","change"]},{validator:o.pubfn.validator("card"),message:"身份证格式错误",trigger:["blur"]}],birth_date:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],birth_month:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],age:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],gender:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],department_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],company_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],hire_date:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],position_id:[{required:!0,message:"该项不能为空",trigger:["blur","change"]}],type_id:[{validator:function(t,a,i){if(2==e.form1.data.status){if(!a)return i(new Error("离职类型不能为空！"));i()}else e.$set(e.form1.data,"resign_date",""),e.$set(e.form1.data,"type_id",""),i()},trigger:["blur","change"]}],resign_date:[{validator:function(t,a,i){if(2==e.form1.data.status){if(!a)return i(new Error("离职日期不能为空！"));if(a<e.form1.data.hire_date)return i(new Error("离职日期不能小于入职日期！"));i()}else e.$set(e.form1.data,"resign_date",""),e.$set(e.form1.data,"type_id",""),i()},trigger:["blur","change"]}]},formType:"",title:"",show:!1}},formDatas:{}}},onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o=this.vk,this.options=e,this.init(e)},onReady:function(){},onShow:function(){},onHide:function(){},methods:{init:function(e){d["form1"]=o.pubfn.copyObject(this.form1)},pageTo:function(e){o.navigateTo(e)},resetForm:function(){o.pubfn.resetForm(d,this)},search:function(){if(this.$refs.table1.queryParam.formData)for(var e in this.$refs.table1.queryParam.formData)if("department_id"==e){this.$refs.table1.queryParam.formData.company_id="";var t=this.$refs.table1.queryParam.formData[e];t&&t.indexOf("company")>=0&&(t=t.split("_")[1],this.$refs.table1.queryParam.formData.company_id=t,this.$refs.table1.queryParam.formData[e]="")}this.$refs.table1.search()},refresh:function(){this.$refs.table1.refresh()},getCurrentRow:function(){return this.$refs.table1.getCurrentRow()},currentChange:function(e){this.table1.selectItem=e},selectionChange:function(e){this.table1.multipleSelection=e},addBtn:function(){this.resetForm(),this.form1.props.action="admin/hrm/employees/sys/add",this.form1.props.formType="add",this.form1.props.title="添加",this.form1.props.show=!0},updateBtn:function(e){var t=e.item,a=o.pubfn.getListItem(this.form1.props.columns,"key","department_id");a.actionData.company_id=t.company_id,this.form1.props.action="admin/hrm/employees/sys/update",this.form1.props.formType="update",this.form1.props.title="编辑",this.form1.props.show=!0,this.form1.data=t},deleteBtn:function(e){var t=e.item,a=e.deleteFn;a({action:"admin/hrm/employees/sys/delete",data:{_id:t._id}})},batchBtn:function(e){switch(e){case 1:o.toast("批量操作按钮1");break;case 2:o.toast("批量操作按钮2");break;default:break}},handleChange:function(e){var t=this,a=0,i="";try{this.$iexcel.importExcel(e.raw,{employee_id:{title:"员工工号",type:"text"},employee_name:{title:"员工姓名",type:"text"},center_id:{title:"中心代码",type:"text"},point_id:{title:"分点代码",type:"text"},card:{title:"身份证号码",type:"text"},bank_card:{title:"银行卡号",type:"text"},bank_id:{title:"银行代码",type:"text"},location_id:{title:"开户地代码",type:"text"},gender:{title:"性别 1：男 2：女",type:"number"},nation_id:{title:"民族代码",type:"text"},department_id:{title:"所属部门代码",type:"text"},company_id:{title:"所属公司代码",type:"text"},position_id:{title:"职位代码",type:"text"},hire_date:{title:"入职日期",type:"date"},resign_date:{title:"离职日期",type:"date"},mobile:{title:"手机号码",type:"text"},educational_id:{title:"学历代码",type:"text"},insurance_id:{title:"保险代码",type:"text"},stay:{title:"住宿 1：是 2：否",type:"number"},contract_id:{title:"合同是否签定代码",type:"text"},contract_date:{title:"合同到期日",type:"date"},contract_desc:{title:"合同签订情况",type:"text"},registration:{title:"档案是否登记 1：是 2：否",type:"number"},birth_month:{title:"月份",type:"number"},birth_date:{title:"出生日期",type:"date"},expiration_date:{title:"身份证有效期限",type:"text"},age:{title:"年龄",type:"number"},card_location:{title:"户口所在地",type:"text"},emergency_contact:{title:"紧急联系人",type:"text"},emergency_mobile:{title:"紧急联系人电话",type:"text"},internal_id:{title:"内部介绍人工号",type:"text"},marital_status:{title:"婚姻情况 1：已婚 2：未婚",type:"number"},no_crime:{title:"无犯罪证明 1：有 2：无",type:"number"},comment:{title:"备注",type:"text"},type_id:{title:"离职类型代码",type:"text"},rest_type:{title:"休息类型 1：单休 2：双休 3：大小周",type:"number"},status:{title:"用户状态 1：在职 2：离职",type:"number"}},function(){var e=(0,l.default)((0,n.default)().mark((function e(l){var d,y,s,p,c;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:d=(0,r.default)(l),e.prev=1,d.s();case 3:if((y=d.n()).done){e.next=24;break}if(s=y.value,!o.pubfn.isNull(s.employee_id)){e.next=8;break}return o.alert("id或工号不能为空"),e.abrupt("break",24);case 8:return e.next=10,o.callFunction({url:"admin/hrm/employees/sys/delete",title:"请求中...",data:{employee_id:s.employee_id}});case 10:if(p=e.sent,0!=p.code){e.next=22;break}return e.next=14,o.callFunction({url:"admin/hrm/employees/sys/add",title:"请求中...",data:s});case 14:if(c=e.sent,0!=c.code){e.next=19;break}a++,e.next=22;break;case 19:return a=0,i=JSON.stringify(s),e.abrupt("break",24);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](1),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:t.fileList=[],0==a?o.alert("错误数据:".concat(i),"导入Excel失败","确定",(function(){})):o.alert("导入数据:".concat(a,"条"),"导入Excel成功","确定",(function(){t.refresh()}));case 34:case"end":return e.stop()}}),e,null,[[1,26,29,32]])})));return function(t){return e.apply(this,arguments)}}())}catch(d){console.log(d)}},exportExcelModel:function(){this.$refs.table1.exportExcel({fileName:(new Date).getFullYear()+"员工列表模版",title:"正在导出数据...",columns:[{key:"employee_id",title:"员工工号",type:"text"},{key:"center_id",title:"中心代码",type:"text"},{key:"point_id",title:"分点代码",type:"text"},{key:"employee_name",title:"员工姓名",type:"text"},{key:"card",title:"身份证号码",type:"text"},{key:"bank_card",title:"银行卡号",type:"text"},{key:"bank_id",title:"银行代码",type:"text"},{key:"location_id",title:"开户地代码",type:"text"},{key:"gender",title:"性别 1：男 2：女",type:"number"},{key:"nation_id",title:"民族代码",type:"text"},{key:"department_id",title:"所属部门代码",type:"text"},{key:"company_id",title:"所属公司代码",type:"text"},{key:"position_id",title:"职位代码",type:"text"},{key:"hire_date",title:"入职日期",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd"},{key:"resign_date",title:"离职日期",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd"},{key:"mobile",title:"手机号码",type:"text"},{key:"educational_id",title:"学历代码",type:"text"},{key:"insurance_id",title:"保险代码",type:"text"},{key:"stay",title:"住宿 1：是 2：否",type:"number"},{key:"contract_id",title:"合同是否签定代码",type:"text"},{key:"contract_date",title:"合同到期日",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd"},{key:"contract_desc",title:"合同签订情况",type:"text"},{key:"registration",title:"档案是否登记 1：是 2：否",type:"number"},{key:"birth_month",title:"月份",type:"number"},{key:"birth_date",title:"出生日期",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd"},{key:"expiration_date",title:"身份证有效期限",type:"text"},{key:"age",title:"年龄",type:"number"},{key:"card_location",title:"户口所在地",type:"text"},{key:"emergency_contact",title:"紧急联系人",type:"text"},{key:"emergency_mobile",title:"紧急联系人电话",type:"text"},{key:"internal_id",title:"内部介绍人工号",type:"text"},{key:"marital_status",title:"婚姻情况 1：已婚 2：未婚",type:"number"},{key:"no_crime",title:"无犯罪证明 1：有 2：无",type:"number"},{key:"comment",title:"备注",type:"text"},{key:"type_id",title:"离职类型代码",type:"text"},{key:"rest_type",title:"休息类型 1：单休 2：双休 3：大小周",type:"number"},{key:"status",title:"用户状态 1：在职 2：离职",type:"number"}],pageIndex:1,pageSize:1})},exportExcelAll:function(){this.$refs.table1.exportExcel({fileName:(new Date).getFullYear()+"人员信息",title:"正在导出数据...",columns:[{key:"employee_id",title:"员工工号",type:"text"},{key:"center_id",title:"中心代码",type:"text"},{key:"centers.center_name",title:"六大中心",type:"text"},{key:"points.point_name",title:"分点名称",type:"text"},{key:"employee_name",title:"员工姓名",type:"text"},{key:"card",title:"身份证号码",type:"text"},{key:"bank_card",title:"银行卡号",type:"text"},{key:"banks.bank_name",title:"银行名称",type:"text"},{key:"locations.location_name",title:"开户地",type:"text"},{key:"gender",title:"性别",type:"number",formatter:function(e,t,a,i){return 1==t.gender?"男":"女"}},{key:"nations.name",title:"民族",type:"text"},{key:"departments.department_name",title:"所属部门",type:"text"},{key:"companys.company_name",title:"所属公司",type:"text"},{key:"positions.position_name",title:"职位名称",type:"text"},{key:"hire_date",title:"入职日期",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd"},{key:"resign_date",title:"离职日期",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd"},{key:"mobile",title:"手机号码",type:"text"},{key:"educationals.educational_name",title:"学历",type:"text"},{key:"insurances.insurance_name",title:"保险",type:"text"},{key:"stay",title:"住宿",type:"number",formatter:function(e,t,a,i){return 1==t.stay?"是":"否"}},{key:"contracts.contract_name",title:"合同是否签定",type:"text"},{key:"contract_date",title:"合同到期日",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd"},{key:"contract_desc",title:"合同签订情况",type:"text"},{key:"registration",title:"档案是否登记\t",type:"number",formatter:function(e,t,a,i){return 1==t.registration?"是":"否"}},{key:"birth_month",title:"月份",type:"number",width:200},{key:"birth_date",title:"出生日期",type:"date",dateType:"date",valueFormat:"yyyy-MM-dd"},{key:"expiration_date",title:"身份证有效期限",type:"text"},{key:"age",title:"年龄",type:"number"},{key:"card_location",title:"户口所在地",type:"text"},{key:"emergency_contact",title:"紧急联系人",type:"text"},{key:"emergency_mobile",title:"紧急联系人电话",type:"text"},{key:"internals.employee_name",title:"内部介绍人",type:"text"},{key:"marital_status",title:"婚姻情况",type:"number",formatter:function(e,t,a,i){return 1==t.marital_status?"已婚":"未婚"}},{key:"no_crime",title:"无犯罪证明",type:"number",formatter:function(e,t,a,i){return 1==t.no_crime?"有":"无"}},{key:"comment",title:"备注",type:"text"},{key:"resigntypes.type_name",title:"离职类型",type:"text"},{key:"rest_type",title:"休息类型",type:"number",formatter:function(e,t,a,i){return 1==e?"单休":2==e?"双休":3==e?"大小周":void 0}},{key:"status",title:"用户状态",type:"number",formatter:function(e,t,a,i){return 1==e?"在职":"离职"}}],pageIndex:1,pageSize:-1})}},watch:{},computed:{}};t.default=y}}]);